---
title: 'Part 2: manipulate, wrangle, visualise data'
author: "Sarthak Chauhan"
date: "2022-12-05"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

```{r}
library(ggplot2)
library(corrplot)
```

## R Markdown

This is an R Markdown document. Markdown is a simple formatting syntax for authoring HTML, PDF, and MS Word documents. For more details on using R Markdown see <http://rmarkdown.rstudio.com>.

When you click the **Knit** button a document will be generated that includes both content as well as the output of any embedded R code chunks within the document. You can embed an R code chunk like this:


```{r}
#Time series plot of inflation. 
dataset$DATE <- as.Date(dataset$DATE, format="%d-%m-%Y")
timeplot <- ggplot(dataset, aes(x=DATE, y=INFLATION...)) +
       geom_line()
timeplot
# temp <- data.frame(
#                  month = as.numeric(format(dataset$DATE, format = "%m")),
#                  year = as.numeric(format(dataset$DATE, format = "%Y")))
# #Splitting the char variable date into numerical variables month and year and creading a new dataset
#Removing Date variable from the dataset:
processedDataset <- dataset[-c(1)]

```



```{r}
#setting seed value for reproducibility 
set.seed(1902)
#splitting data set into test and train set (70:30 split)
subset <- sample(nrow(processedDataset), nrow(processedDataset) * 0.7,replace=FALSE)
train <- processedDataset[subset, ]
nrow(train) / nrow(processedDataset)
test <- processedDataset[-subset, ]
nrow(test) / nrow(processedDataset)
dim(train)
dim(test)
```

```{r}
#filling missing values in the training and test set(imputation using KNN)
train <-kNN(train)
test <-kNN(test)
# additional variables are created after performing knn imputation, Step to remove these extra variables:
train = subset(train, select = c(1:(ncol(train)/2)))
test = subset(test, select = c(1:(ncol(test)/2)))

skim(train)
skim(test)

```

```{r}
#Visualisation of Data:
pairs(processedDataset)
boxplot(processedDataset)
M = cor(rbind(test,train))
corrplot(M)
```


```{r}
#Standardizing/Scaling data 
train<-scale(train, center = TRUE, scale = TRUE)
train<-as.data.frame(train)
test<-scale(test, center = TRUE, scale = TRUE)
test<-as.data.frame(test)
```



